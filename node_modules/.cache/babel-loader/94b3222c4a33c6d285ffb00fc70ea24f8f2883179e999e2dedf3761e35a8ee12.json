{"ast":null,"code":"import React,{useState}from'react';import Sidebar from'../../../Component/SideBar/Sidebar';import Truckfill from'./Operation/Fill From Truck/Truck Filled/Truckfill';import'./Oilmanagement.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Oilmanagement=()=>{const[showForm,setShowForm]=useState(false);const[operations,setOperations]=useState([]);const[formData,setFormData]=useState(null);const[editIndex,setEditIndex]=useState(null);const handleFillTanker=()=>{setFormData({tankerId:'',product:'',quantity:'',receivedDate:'',driverName:'',petrolpumpName:''});setEditIndex(null);setShowForm(true);};const handleEdit=index=>{setFormData(operations[index]);setEditIndex(index);setShowForm(true);};const handleDelete=index=>{const confirm=window.confirm('Are you sure you want to delete this entry?');if(confirm){setOperations(prev=>prev.filter((_,i)=>i!==index));}};const handleFormSubmit=updated=>{if(editIndex!==null){// Update existing entry\nsetOperations(prev=>prev.map((op,i)=>i===editIndex?updated:op));}else{// Add new entry\nsetOperations(prev=>[...prev,updated]);}setShowForm(false);setEditIndex(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"oil-dashboard\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"oil-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Oil Management - Operations History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"oil-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleFillTanker,className:\"fill-btn\",children:\"Fill From Tanker\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFillTanker,className:\"fill-btn\",children:\"Fill Truck\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"oil-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Tanker ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Petrol Pump\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity (L)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Received\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Driver Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:operations.map((op,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:op.tankerId}),/*#__PURE__*/_jsx(\"td\",{children:op.product}),/*#__PURE__*/_jsx(\"td\",{children:op.petrolpumpName}),/*#__PURE__*/_jsx(\"td\",{children:op.quantity}),/*#__PURE__*/_jsx(\"td\",{children:new Date(op.receivedDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:op.driverName}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(index),className:\"action-btn edit\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),className:\"action-btn delete\",children:\"Delete\"})]})]},index))})]}),showForm&&/*#__PURE__*/_jsx(Truckfill,{initialData:formData,onSubmit:handleFormSubmit,onCancel:()=>{setShowForm(false);setEditIndex(null);}})]})]});};export default Oilmanagement;","map":{"version":3,"names":["React","useState","Sidebar","Truckfill","jsx","_jsx","jsxs","_jsxs","Oilmanagement","showForm","setShowForm","operations","setOperations","formData","setFormData","editIndex","setEditIndex","handleFillTanker","tankerId","product","quantity","receivedDate","driverName","petrolpumpName","handleEdit","index","handleDelete","confirm","window","prev","filter","_","i","handleFormSubmit","updated","map","op","className","children","onClick","Date","toLocaleDateString","initialData","onSubmit","onCancel"],"sources":["C:/Users/karti/TRUCK-AGENCY-SYSTEM/src/Pages/Modules/OilManagement/Oilmanagement.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Sidebar from '../../../Component/SideBar/Sidebar';\r\nimport Truckfill from './Operation/Fill From Truck/Truck Filled/Truckfill';\r\nimport './Oilmanagement.css';\r\n\r\nconst Oilmanagement = () => {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [operations, setOperations] = useState([]);\r\n  const [formData, setFormData] = useState(null);\r\n  const [editIndex, setEditIndex] = useState(null);\r\n\r\n  const handleFillTanker = () => {\r\n    setFormData({\r\n      tankerId: '',\r\n      product: '',\r\n      quantity: '',\r\n      receivedDate: '',\r\n      driverName: '',\r\n      petrolpumpName: ''\r\n    });\r\n    setEditIndex(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEdit = (index) => {\r\n    setFormData(operations[index]);\r\n    setEditIndex(index);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    const confirm = window.confirm('Are you sure you want to delete this entry?');\r\n    if (confirm) {\r\n      setOperations((prev) => prev.filter((_, i) => i !== index));\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = (updated) => {\r\n    if (editIndex !== null) {\r\n      // Update existing entry\r\n      setOperations((prev) =>\r\n        prev.map((op, i) => (i === editIndex ? updated : op))\r\n      );\r\n    } else {\r\n      // Add new entry\r\n      setOperations((prev) => [...prev, updated]);\r\n    }\r\n    setShowForm(false);\r\n    setEditIndex(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"oil-dashboard\">\r\n      <Sidebar />\r\n\r\n      <div className=\"oil-content\">\r\n        <h1>Oil Management - Operations History</h1>\r\n\r\n        <div className=\"oil-actions\">\r\n          <button onClick={handleFillTanker} className=\"fill-btn\">Fill From Tanker</button>\r\n          <button onClick={handleFillTanker} className=\"fill-btn\">Fill Truck</button>\r\n        </div>\r\n\r\n        <table className=\"oil-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Tanker ID</th>\r\n              <th>Product</th>\r\n              <th>Petrol Pump</th>\r\n              <th>Quantity (L)</th>\r\n              <th>Date Received</th>\r\n              <th>Driver Name</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {operations.map((op, index) => (\r\n              <tr key={index}>\r\n                <td>{op.tankerId}</td>\r\n                <td>{op.product}</td>\r\n                <td>{op.petrolpumpName}</td>\r\n                <td>{op.quantity}</td>\r\n                <td>{new Date(op.receivedDate).toLocaleDateString()}</td>\r\n                <td>{op.driverName}</td>\r\n                <td>\r\n                  <button onClick={() => handleEdit(index)} className=\"action-btn edit\">Edit</button>\r\n                  <button onClick={() => handleDelete(index)} className=\"action-btn delete\">Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        {showForm && (\r\n          <Truckfill\r\n            initialData={formData}\r\n            onSubmit={handleFormSubmit}\r\n            onCancel={() => {\r\n              setShowForm(false);\r\n              setEditIndex(null);\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Oilmanagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}